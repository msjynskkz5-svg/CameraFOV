<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta name="theme-color" content="#111111" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="stylesheet" href="./styles.css" />
    <title>FoV Simulator (PoC)</title>
  </head>
  <body>
    <header class="bar">
      <div class="title">FoV Simulator (PoC)</div>
      <button id="startBtn" class="btn">Start camera</button>
    </header>

    <main class="layout">
      <section class="controls">
        <label class="row">
          <span>Sensor format</span>
          <select id="formatSelect"></select>
        </label>

        <label class="row">
          <span>Focal length (mm)</span>
          <input id="focalInput" type="number" inputmode="decimal" min="1" step="0.1" value="50" />
        </label>

        <!-- For PoC only: lets you sanity-check results without relying on iOS lens switching -->
        <details class="advanced">
          <summary>Advanced (PoC)</summary>
          <label class="row">
            <span>Assumed iPhone base lens (35mm eq)</span>
            <select id="iphoneEqSelect">
              <option value="13">13mm (ultrawide-ish)</option>
              <option value="26" selected>26mm (wide-ish)</option>
              <option value="52">52mm (2x tele-ish)</option>
              <option value="77">77mm (3x tele-ish)</option>
              <option value="120">120mm (5x tele-ish)</option>
            </select>
          </label>
        </details>

        <div id="readout" class="readout"></div>
        <div id="status" class="status"></div>
      </section>

      <section class="previewWrap">
        <div id="viewport" class="viewport" aria-label="Camera preview viewport">
          <video
            id="video"
            autoplay
            muted
            playsinline
            webkit-playsinline
          ></video>

          <div class="overlay">
            <div class="overlayText" id="overlayText"></div>
          </div>
        </div>
      </section>
    </main>

    <script type="module" src="./app.js"></script>
  </body>
</html>
